# AI 编程常用提示词

## 常用

执行小型任务

```text
按照以下要求完成任务：

【开始任务前】
1. 评估我要求执行的任务内容是否合理，若不合理，则直接中断并告知我原因。
2. 设计大致的方案，并简要介绍流程，若你认为改动范围较大，则先请求获取我的确认。
3. 完全理解需要遵循的项目规范，包含【DevOps/guidelines】目录下的所有文档。
   
【执行任务时】
4. 对新增的代码添加合适的注释，主要侧重于在业务逻辑层面做了什么事情，而不是解释语法含义。
5. 对于没有明确逻辑处理的环节，不要自行发挥，使用 TODO 注释告知此处待人工处理。
6. 严禁使用 try...catch 语句（因为大多数异常都可以被全局异常捕获器接管处理），如果不得不使用 try 语句，那么在 try 语句上一行说明具体的原因以及不使用 try 语句会造成的后果，并且包裹最小范围的语句。
7. 如果方法不是首轮调用，严禁对参数进行校验，即若检测当前方法被其他方法引用，那么就不需要做参数校验。
8. 对主要方法添加 @LogExcution 注解，因为该注解以包含打印入参、返回值的日志，因此方法内部严禁重复打印此类日志。
9. 对于单个参数的简单数据校验，严禁使用 if 语句判定的方式来校验，而应该使用注解。使用方式为：在类上方添加 @Validated 注解，在对方法入参进行数据校验时，如果是简单类型（例如 String 等）则直接使用校验注解，若入参是一个模型类，那么在入参类型前添加 @Valid 注解，入参模型类的字段添加数据校验注解。

【完成任务后】
对于改动的代码，逐条检查以下规范：

1. 评估每一条 try...catch 语句是否必要，并检查是否在 try 语句的上一行解释了使用 try...catch 语句的原因，若无，则移除 try...catch 语句。
2. 检查是否有行尾注释，若有，则将注释移动至被注释代码的上一行为止。
3. 检查新增的内容是否引入了新的依赖，若依赖关系不正确则修复。
4. 检查是否使用了限定名称，若有，则修改为导入。
5. 检查是否有多余的入参日志打印，比如在方法的第一行的 `log.trace("开始 xxx` 类似代码。
6. 检查新增的代码是否符合【DevOps/guidelines】目录中的代码规范，若不符合则优化。


任务内容如下：

```

全量文件提交到 git 并推送

```text
将当前工作区的所有修改内容都提交到 git 仓库，要求如下：
（1）修改内容合并成1次提交，不要拆分多次。
（2）最终要求工作区是干净的。
（3）总结修改内容，提交消息需要按照最佳实践的中文表达。
（4）所有事项完成后，进行一次推送远程仓库操作。
```

问答

```text
不用写代码，基于项目现状，帮我分析以下问题：

```

补充文本

```text


请注意，以上我的解释内容，不要原封不动复制到注释中，应该在理解后，以符合最佳实践的方式去表述说明。
```


优化代码

```text
检查以下模块下的所有文件，优化代码。

【检查事项】
（1）代码是否符合开发规范（文档地址：DevOps/开发规范.md），若存在不符合的抵挡，则优化代码使其符合代码规范要求。这一项直接执行，不需要经过我的确认。
（2）注释含义是否和代码本身保持一致（因为在代码修改过程中，很容易只修改了代码，忘记修改对应注释），若不相同，则以代码为准，优化注释内容。这一项直接执行，不需要经过我的确认。
（3）代码逻辑是否可能存在隐藏的问题，若存在，请指出说明（在我确认前不要修改代码）。
（4）针对现有业务场景，是否存在可简化的代码，若存在，请指出说明（在我确认前不要修改代码）。

【输出格式】
完成检查后，逐条说明优化意见，对每条优化意见都进行编号，让我支持使用以下形式回复来确认优化方案。示例如下：
（1）执行以上全部优化方案
（2）执行1、3、5这几条优化方案
（3）执行除2、4以外的所有优化方案

【待检查的模块】
（1）
```

## git


拉取代码

```text
请从远程仓库拉取最新代码，与我当前分支进行合并。
要求：
1. 自动处理常见冲突（如格式或注释变动），保留逻辑正确的版本。
2. 合并后确保工作区干净（无未提交修改、无冲突文件）。
3. 显示最终合并结果的提交摘要。
4. 若存在复杂冲突，请提示我手动介入，而不要提交错误的合并结果。
```


## 代码规范

```text
遍历项目，找出项目中可能存在的问题，并提出修改意见（不要修改文件，待我确认后再改） 
```

```text
检查以下模块，代码规范遍历项目所有文件，优化所有不符合规范的代码：

要检查的模块如下：
（1）
```

```text
将新增的代码规范以合适的方式添加到 `CLAUDE.md` 文件中，并根据新的代码规范遍历项目所有文件，优化所有不符合规范的代码：

新增的代码规范如下所示：
（1）
```

## 项目运行

```text
启动项目，并完成以下事项：
（1）如果发现依赖或配置错误，那么分析并修复。
（2）如果启动时遇到错误时，那么自动修复直到能正常启动。
（3）结束该事项后，记得要关闭相关的进程以及占用的端口，不要影响到下一次调试。
```

```text
项目启动后报错，请尝试分析原因并给出符合最佳实践的解决方案，在我确认之前，不允许改动代码。 
```

## 数据库

### 建表语句

```text
对以下指定包中所有使用 @Table 注解的实体类生成建表语句，要求如下：

1. 建表语句统一存放在 `DevOps/mysql` 目录下，保留原有的目录层级，例如在 `com.ebloma.business.login.entity` 中的实体类，存在放 `DevOps/mysql/login`  目录下。
2. 每一个实体类对应一个建表语句文件，以 @Table 注解中的值为文件名以及表名，使用 .sql 作为文件名后缀。
3. 每个字段的摘要行（首行）作为字段的注释（comment）。
4. 使用的字段名需要将 Java 实体类的小驼峰命名转化为建表语句使用的下划线命名。
5. 查看每个实体类字段的【数据库字段定义】，建表语句的字段定义严格遵守对应的说明。
6. 不要建立索引。

要生成建表语句的包目录（或文件）如下：
com.ebloma.business
```

### 初始化数据库

```text
按照以下要求初始化开发环境的数据库：
1. 读取在 ebloma-bootstrap/src/main/resources/application-local.yml 文件中的 spring.datasource 属性中的 MySQL 数据库连接信息，并使用 MySQL 客户端程序建立连接。
2. 读取 DevOps/mysql 的子目录下的所有 SQL 语句（均为建表语句），与数据库中的存量数据表对比，除非现有的数据表字段和建表语句完全一致（即建表后未发生变化），否则就删除旧表，使用建表语句重新建立数据表。
3. 结合字段含义，为新建立的数据表添加一些合理的测试数据。
```